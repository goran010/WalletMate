{% load compress %} {% load static %}

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css"
      rel="stylesheet"
    />
    <title>WalletMate | Register</title>
    {% compress css %}
    <link rel="stylesheet" href="{% static 'src/output.css' %}" />
    {% endcompress %}
  </head>
  <body
    class="flex flex-col justify-center items-center h-screen bg-dark-blue-c"
  >
    <div class="text-red-600 font-bold mb-5 text-center min-h-1/2">
      {% if form.errors %}
      <h3>⚠️ Error. Please try again.</h3>
      <ul class="list-disc list-inside text-red-500 text-sm">
        {% for field, errors in form.errors.items %}
        <li>{{ field|capfirst }}: {{ errors|join:", " }}</li>
        {% endfor %}
      </ul>
      {% endif %}
    </div>

    <form
      method="post"
      action="{% url 'register' %}"
      class="bg-white p-8 rounded-xl shadow-lg w-full max-w-md"
    >
      {% csrf_token %}
    <h2 class="text-3xl font-bold text-center text-gray-800 mb-6">Sign up</h2>
      <!-- Username Field -->
      <div class="mb-5">
        <label
          for="{{ form.username.id_for_label }}"
          class="block font-bold text-gray-700"
          >Username</label
        >
        <input
          type="text"
          name="username"
          id="{{ form.username.id_for_label }}"
          value="{{ form.username.value|default_if_none:'' }}"
          placeholder="Enter your username"
          class="w-full p-3 border border-gray-300 rounded-md text-base mt-2 focus:outline-none focus:ring-2 focus:ring-blue-500"
          required
        />
      </div>

      <!-- Email Field -->
      <div class="mb-5">
        <label
          for="{{ form.email.id_for_label }}"
          class="block font-bold text-gray-700"
          >Email</label
        >
        <input
          type="email"
          name="email"
          id="{{ form.email.id_for_label }}"
          value="{{ form.email.value|default_if_none:'' }}"
          placeholder="Enter your email"
          class="w-full p-3 border border-gray-300 rounded-md text-base mt-2 focus:outline-none focus:ring-2 focus:ring-blue-500"
          required
        />
      </div>

      <!-- Password Field -->
      <div class="mb-5">
        <label
          for="{{ form.password1.id_for_label }}"
          class="block font-bold text-gray-700"
          >Password</label
        >
        <input
          type="password"
          name="password1"
          id="{{ form.password1.id_for_label }}"
          placeholder="Enter your password"
          class="w-full p-3 border border-gray-300 rounded-md text-base mt-2 focus:outline-none focus:ring-2 focus:ring-blue-500"
          required
        />
      </div>

      <!-- Confirm Password Field -->
      <div class="mb-5">
        <label
          for="{{ form.password2.id_for_label }}"
          class="block font-bold text-gray-700"
          >Confirm Password</label
        >
        <input
          type="password"
          name="password2"
          id="{{ form.password2.id_for_label }}"
          placeholder="Confirm your password"
          class="w-full p-3 border border-gray-300 rounded-md text-base mt-2 focus:outline-none focus:ring-2 focus:ring-blue-500"
          required
        />
      </div>

      <!-- Submit Button -->
      <div class="text-center">
        <button
          type="submit"
          class="w-full py-3 text-lg font-semibold text-white bg-gradient-to-r from-blue-500 to-blue-700 rounded-lg shadow-md hover:shadow-lg hover:scale-[1.02] transition-all duration-300"
        >
          Register
        </button>
      </div>

      <!-- Already have an account? Login Link -->
      <div class="text-center mt-4">
        <p class="text-sm">
          Already have an account?
          <a href="{% url 'login' %}" class="text-blue-500 hover:underline"
            >Login here</a
          >
        </p>
      </div>
    </form>
  </body>
</html>
