{% load compress %} {% load static %}

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css"
      rel="stylesheet"
    />
    <title>Walletmate</title>
    {% compress css %}
    <link rel="stylesheet" href="{% static 'src/output.css' %}" />
    {% endcompress %}
  </head>
  <body
    class="flex flex-col justify-center items-center h-screen bg-light-blue-c"
  >
    <div class="text-red-600 font-bold mb-5 text-center min-h-1/2">
      {% if form.errors %}
      <h3>Greška. Molimo pokušajte ponovo.</h3>
      <ul class="list-disc list-inside text-red-500 text-sm">
        {% for field, errors in form.errors.items %}
        <li>{{ field|capfirst }}: {{ errors|join:", " }}</li>
        {% endfor %}
      </ul>
      {% endif %}
    </div>
    <form
      method="post"
      action="{% url 'register' %}"
      class="max-w-md w-full bg-white p-6 border border-gray-300 rounded-lg shadow-xl"
    >
      {% csrf_token %}

      <!-- Username Field -->
      <div class="mb-5">
        <label
          for="{{ form.username.id_for_label }}"
          class="block font-bold text-gray-700"
          >{{ form.username.label }}</label
        >
        <input
          type="text"
          name="username"
          id="{{ form.username.id_for_label }}"
          value="{{ form.username.value|default_if_none:'' }}"
          class="w-full p-3 border border-gray-300 rounded-md text-base mt-2 focus:outline-none focus:ring-2 focus:ring-blue-2-c"
        />
        {% if form.username.errors %}
        <p class="text-red-500 text-sm mt-1">
          {{ form.username.errors|join:", " }}
        </p>
        {% endif %}
      </div>

      <!-- Email Field -->
      <div class="mb-5">
        <label
          for="{{ form.email.id_for_label }}"
          class="block font-bold text-gray-700"
          >Email</label
        >
        <input
          type="email"
          name="email"
          id="{{ form.email.id_for_label }}"
          value="{{ form.email.value|default_if_none:'' }}"
          class="w-full p-3 border border-gray-300 rounded-md text-base mt-2 focus:outline-none focus:ring-2 focus:ring-blue-2-c"
        />
        {% if form.email.errors %}
        <p class="text-red-500 text-sm mt-1">
          {{ form.email.errors|join:", " }}
        </p>
        {% endif %}
      </div>

      <!-- Password Field -->
      <div class="mb-5">
        <label
          for="{{ form.password.id_for_label }}"
          class="block font-bold text-gray-700"
          >Password</label
        >
        <input
          type="password"
          name="password1"
          id="{{ form.password.id_for_label }}"
          value=""
          class="w-full p-3 border border-gray-300 rounded-md text-base mt-2 focus:outline-none focus:ring-2 focus:ring-blue-2-c"
        />
        {% if form.password.errors %}
        <p class="text-red-500 text-sm mt-1">
          {{ form.password.errors|join:", " }}
        </p>
        {% endif %}
      </div>

      <!-- Confirm Password Field -->
      <div class="mb-5">
        <label
          for="{{ form.password2.id_for_label }}"
          class="block font-bold text-gray-700"
          >{{ form.password2.label }}</label
        >
        <input
          type="password"
          name="password2"
          id="{{ form.password2.id_for_label }}"
          value=""
          class="w-full p-3 border border-gray-300 rounded-md text-base mt-2 focus:outline-none focus:ring-2 focus:ring-blue-2-c"
        />
        {% if form.password2.errors %}
        <p class="text-red-500 text-sm mt-1">
          {{ form.password2.errors|join:", " }}
        </p>
        {% endif %}
      </div>

      <!-- Submit Button -->
      <div class="text-center">
        <input
          type="submit"
          value="Register"
          class="w-full p-3 bg-dark-blue-c text-white rounded-md cursor-pointer text-base font-medium transition duration-300 hover:bg-blue-1-c focus:outline-none focus:ring-2 focus:ring-blue-1-c"
        />
      </div>

      <!-- Already have an account? Login Link -->
      <div class="text-center mt-4">
        <p class="text-sm">
          Already have an account?
          <a href="{% url 'login' %}" class="text-blue-2-c hover:underline"
            >Login here</a
          >
        </p>
      </div>
    </form>
  </body>
</html>
